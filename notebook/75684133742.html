        <!DOCTYPE HTML>
        <html>
            <head>
                <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
                <link rel="stylesheet" type="text/css" href="../style.css"/>
            </head>
            <body>
                
                
                                    <h1>Golangのはじめかた</h1>
                    <p>こないだ業務でGoを使ったプログラムを書きました。
もともと個人的に使っていましたが、いいきっかけなのでまとめておきます。</p>

<h2>インストール</h2>

<p>ここではソースからインストールする方法を使います。
各種OS用のインストーラがありますけれども、
ソースからインストールすることはそれほど難しくありませんし、
パッケージよりも自由にできるので、なにかと便利です。</p>

<p>まず、<code>hg</code>(Mercurial)が必要なので、準備してください。
Macの場合は、SourceTree.appに含まれていますので、そちらを使うのが手軽かもしれません。</p>

<p><code>hg</code>が準備できたら、<a href="http://golang.org/doc/install/source">公式ドキュメント</a>に従ってコマンドを実行します。
ここでは~/goにインストールしています。</p>

<pre><code>$ cd $HOME
$ hg clone <a href="https://code.google.com/p/go">https://code.google.com/p/go</a>
$ cd ~/go/src
$ ./all.bash
</code></pre>

<p>インストールの後にテストが行われます。
<code>ALL TESTS PASSED</code>のように表示されれば完了です。</p>

<h2>環境変数の設定</h2>

<p>環境変数<code>PATH</code>に、goコマンドを通します。</p>

<pre><code>export PATH=$PATH:$HOME/go/bin
</code></pre>

<p>これで最低限の環境構築は終わりました。</p>

<h2>クロスコンパイル環境のつくりかた</h2>

<p>Goはクロスコンパイル環境を作ることも簡単です。
上記の通り作業を終えていれば、次のコマンドだけで完了です。</p>

<pre><code>$ cd ~/go/src
$ export GOOS=linux
$ export GOARCH=amd64
$ ./make.bash
</code></pre>

<p>上記はLinux x64用の環境を追加でインストールしています。
他にもターゲットOSを増やしたければ、<code>GOOS</code>、<code>GOARCH</code>を変更して
実行してください。ターゲット毎に、~/go/pkgへ追加されていきます。
<code>GOOS</code>、<code>GOARCH</code>の可能な組み合わせは<a href="http://golang.org/doc/install/source">公式ドキュメント</a>を参照ください。</p>

<h2>テストカバレッジ計測ツールのインストール</h2>

<p>Go本体には含まれていませんが、
Go 1.2から<a href="http://blog.golang.org/cover">カバレッジ用のサブコマンド</a>が導入されています。
とても便利なのでインストールしましょう。</p>

<pre><code>$ go get code.google.com/p/go.tools/cmd/cover
</code></pre>

<p>これは<code>GOPATH</code>を設定して、
Go本体とは別の場所にインストールしても構いません。
(詳細はワークスペースの説明を書くときにいっしょに記載します)</p>

<p><a href="https://code.google.com/p/go/source/checkout?repo=tools">go.toolのリポジトリ</a>を見ると、他にも面白いものがいくつかありますね。</p>
                
                
                
                
                
                
                                <div id="footer">
                <span id="timestamp"> February 5th, 2014 9:16pm </span>
                                                      <span class="tag">golang</span>
                                      <span class="tag">gointro</span>
                                              </div>
            </body>
        </html>

        