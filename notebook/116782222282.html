        <!DOCTYPE HTML>
        <html>
            <head>
                <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
                <link rel="stylesheet" type="text/css" href="../style.css"/>
            </head>
            <body>
                
                
                                    <h1>Plan 9 ATAドライバのLBA</h1>
                    <p>pc/sdata.cは起動時に、LBA可能なディスクなのか調べる。
CHSしかできないなら、何があっても常にCHSでアクセスする。
LBA可能な場合、アクセスするアドレスや個数がLBAの範囲内ならLBA、範囲を超えたら(例えばアドレスが28bit以上なら)LBA48を使う。
常にLBA48でアクセスさせたい場合は</p>

<pre><code>echo lba48always on &gt;/dev/sdC0/ctl
</code></pre>

<p>これはカーネルロード後の話で、9load以前はpbsによって変わる。
標準だとpbs(PBS1と表示される)なのでCHSアクセス。
pbslba(PBS2と表示)ならLBAアクセス。</p>
                
                
                
                
                
                
                                <div id="footer">
                <span id="timestamp"> April 19th, 2015 12:07pm </span>
                                                      <span class="tag">plan9</span>
                                              </div>
            </body>
        </html>

        