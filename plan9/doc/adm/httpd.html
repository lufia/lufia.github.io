<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Plan 9: httpdの立ち上げ</title><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="author" content="http://www.hatena.ne.jp/lufiabb/"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/1b15737708df434c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1b15737708df434c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-c2e8b39087850489.js" defer=""></script><script src="/_next/static/chunks/main-7715c9ce3e92f40f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8e84d751e7e95936.js" defer=""></script><script src="/_next/static/chunks/245-02c6405e66663b10.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...slug%5D%5D-663c09fbf665935a.js" defer=""></script><script src="/_next/static/uudkrhSA2meQW-38gm1fk/_buildManifest.js" defer=""></script><script src="/_next/static/uudkrhSA2meQW-38gm1fk/_ssgManifest.js" defer=""></script></head><body><div id="__next">
<nav>
	<h1>メニュー</h1>
	<ul>
	<li><a href="/plan9/index.html"><a>Plan 9</a></a></li>
	<li><a href="/plan9/doc/inst/index.html"><a>インストール</a></a></li>
	<li><a href="/plan9/doc/guide/index.html"><a>システムの使い方</a></a></li>
	<li><a href="/plan9/doc/devel/index.html"><a>プログラミング</a></a></li>
	<li><a href="/plan9/doc/adm/index.html"><a>システム管理</a></a></li>
	<li><a href="/plan9/man/index.html"><a>自作ツール集</a></a></li>
	</ul>
</nav>
<main>
	<p class="revision">2011年6月2日更新</p>
	<section>
		<h1>httpdの立ち上げ</h1>
		<p>まずは、<strong>/usr/web</strong>を作ります。
		fsカーネルを使っているのでそっちで書きます。</p>
		<pre><code class="console">dryad: newuser web :
dryad: newuser web +lufia
dryad: create /usr/web sys web 775 d</code></pre>
		<p>次に、<strong>/lib/namespace.httpd</strong>を編集。
		特に凝ったこともしないので、内容を空にします。</p>
		<pre><code class="console">cpu% echo -n &gt;/lib/namespace.httpd</code></pre>
		<p>ip/httpd/httpdはデーモン型のプログラムなので、
		ふつうに<strong>/cfg/$sysname/cpustart</strong>に追加。</p>
		<pre><code class="sh">ip/httpd/httpd</code></pre>
		<p><strong>mimetype</strong>の追加もしておきます。</p>
		<pre><code class="console">% ed /sys/lib/mimetype
.xml  application  xml  -  m	# 変更
.xslt  application  xml  -  m	# 追加</code></pre>
	</section>
	<section>
		<h1>https</h1>
		<p>以下で動きます。<strong>cert.pem</strong>の作成あたりは<a href="/plan9/doc/adm/securemail.html"><a>メール環境の暗号化</a></a>の最初をそのまま。</p>
		<pre><code class="sh">ip/httpd/httpd -c /sys/lib/tls/cert.pem \
	-C /sys/lib/tls/chain.pem \
	-n /cfg/$sysname/namespace.https \
	-w /usr/secureweb</code></pre>
	</section>
</main>
<aside>
	<h1>参考ページ</h1>
</aside>
<footer>
	<p>見れない、表示がおかしい場合は、動作環境を添えて<a href="/plan9/doc/adm/mailto:webmaster@lufia.org"><a>webmaster@lufia.org</a></a>まで連絡ください。</p>
</footer>
</div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"html":"\u003c!doctype html\u003e\n\u003chtml lang=\"ja\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003ctitle\u003ePlan 9: httpdの立ち上げ\u003c/title\u003e\n\u003cmeta name=\"viewport\" content=\"width=device-width,initial-scale=1\"\u003e\n\u003cmeta name=\"author\" content=\"http://www.hatena.ne.jp/lufiabb/\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cnav\u003e\n\t\u003ch1\u003eメニュー\u003c/h1\u003e\n\t\u003cul\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/index.html\"\u003ePlan 9\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/doc/inst/index.html\"\u003eインストール\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/doc/guide/index.html\"\u003eシステムの使い方\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/doc/devel/index.html\"\u003eプログラミング\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/doc/adm/index.html\"\u003eシステム管理\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/man/index.html\"\u003e自作ツール集\u003c/a\u003e\u003c/li\u003e\n\t\u003c/ul\u003e\n\u003c/nav\u003e\n\u003cmain\u003e\n\t\u003cp class=\"revision\"\u003e2011年6月2日更新\u003c/p\u003e\n\t\u003csection\u003e\n\t\t\u003ch1\u003ehttpdの立ち上げ\u003c/h1\u003e\n\t\t\u003cp\u003eまずは、\u003cstrong\u003e/usr/web\u003c/strong\u003eを作ります。\n\t\tfsカーネルを使っているのでそっちで書きます。\u003c/p\u003e\n\t\t\u003cpre\u003e\u003ccode class=\"console\"\u003edryad: newuser web :\ndryad: newuser web +lufia\ndryad: create /usr/web sys web 775 d\u003c/code\u003e\u003c/pre\u003e\n\t\t\u003cp\u003e次に、\u003cstrong\u003e/lib/namespace.httpd\u003c/strong\u003eを編集。\n\t\t特に凝ったこともしないので、内容を空にします。\u003c/p\u003e\n\t\t\u003cpre\u003e\u003ccode class=\"console\"\u003ecpu% echo -n \u0026gt;/lib/namespace.httpd\u003c/code\u003e\u003c/pre\u003e\n\t\t\u003cp\u003eip/httpd/httpdはデーモン型のプログラムなので、\n\t\tふつうに\u003cstrong\u003e/cfg/$sysname/cpustart\u003c/strong\u003eに追加。\u003c/p\u003e\n\t\t\u003cpre\u003e\u003ccode class=\"sh\"\u003eip/httpd/httpd\u003c/code\u003e\u003c/pre\u003e\n\t\t\u003cp\u003e\u003cstrong\u003emimetype\u003c/strong\u003eの追加もしておきます。\u003c/p\u003e\n\t\t\u003cpre\u003e\u003ccode class=\"console\"\u003e% ed /sys/lib/mimetype\n.xml  application  xml  -  m\t# 変更\n.xslt  application  xml  -  m\t# 追加\u003c/code\u003e\u003c/pre\u003e\n\t\u003c/section\u003e\n\t\u003csection\u003e\n\t\t\u003ch1\u003ehttps\u003c/h1\u003e\n\t\t\u003cp\u003e以下で動きます。\u003cstrong\u003ecert.pem\u003c/strong\u003eの作成あたりは\u003ca href=\"securemail.html\"\u003eメール環境の暗号化\u003c/a\u003eの最初をそのまま。\u003c/p\u003e\n\t\t\u003cpre\u003e\u003ccode class=\"sh\"\u003eip/httpd/httpd -c /sys/lib/tls/cert.pem \\\n\t-C /sys/lib/tls/chain.pem \\\n\t-n /cfg/$sysname/namespace.https \\\n\t-w /usr/secureweb\u003c/code\u003e\u003c/pre\u003e\n\t\u003c/section\u003e\n\u003c/main\u003e\n\u003caside\u003e\n\t\u003ch1\u003e参考ページ\u003c/h1\u003e\n\u003c/aside\u003e\n\u003cfooter\u003e\n\t\u003cp\u003e見れない、表示がおかしい場合は、動作環境を添えて\u003ca href=\"mailto:webmaster@lufia.org\"\u003ewebmaster@lufia.org\u003c/a\u003eまで連絡ください。\u003c/p\u003e\n\u003c/footer\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/[[...slug]]","query":{"slug":["plan9","doc","adm","httpd"]},"buildId":"uudkrhSA2meQW-38gm1fk","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>