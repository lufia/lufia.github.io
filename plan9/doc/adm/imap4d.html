<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Plan 9: IMAP4サービス</title><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="author" content="http://www.hatena.ne.jp/lufiabb/"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/1b15737708df434c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1b15737708df434c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-c2e8b39087850489.js" defer=""></script><script src="/_next/static/chunks/main-7715c9ce3e92f40f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8e84d751e7e95936.js" defer=""></script><script src="/_next/static/chunks/245-02c6405e66663b10.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...slug%5D%5D-663c09fbf665935a.js" defer=""></script><script src="/_next/static/uudkrhSA2meQW-38gm1fk/_buildManifest.js" defer=""></script><script src="/_next/static/uudkrhSA2meQW-38gm1fk/_ssgManifest.js" defer=""></script></head><body><div id="__next">
<nav>
	<h1>メニュー</h1>
	<ul>
	<li><a href="/plan9/index.html"><a>Plan 9</a></a></li>
	<li><a href="/plan9/doc/inst/index.html"><a>インストール</a></a></li>
	<li><a href="/plan9/doc/guide/index.html"><a>システムの使い方</a></a></li>
	<li><a href="/plan9/doc/devel/index.html"><a>プログラミング</a></a></li>
	<li><a href="/plan9/doc/adm/index.html"><a>システム管理</a></a></li>
	<li><a href="/plan9/man/index.html"><a>自作ツール集</a></a></li>
	</ul>
</nav>
<main>
	<p class="revision">2008年9月21日更新</p>
	<section>
		<h1>IMAP4サービス</h1>
		<p>listenのサービスにtcp143を追加します。
		もともと用意されているので、自分で書く必要はありません。</p>
		<pre><code class="console">% cat /cfg/$sysname/service/tcp143
#!/bin/rc
exec /bin/ip/imap4d &gt;[2]/sys/log/imap4d</code></pre>
		<p>ip/imap4dは何もオプションをつけない場合、<a href="http://vision.kuee.kyoto-u.ac.jp/~nob/doc/cram-md5/cram-md5.html">CRAM-MD5</a>で認証を行います。
		iPhoneやMacのMail.appはこれに対応していますが、
		Windowsメール(Liveメール、Outlook含む)は未対応のため、
		Windowsで動作テストをするときにはBecky!などを使います。</p>
		<p class="note">または、imap4dに-pオプションを与えて
		通常のパスワード認証にすればWindowsメールでもテストできますが、
		これで実運用するには危険なので暗号化が必須です。
		暗号化の方法は詳細は<a href="/plan9/doc/adm/securemail.html"><a>メール環境の暗号化</a></a>に書きました。</p>
		<section>
			<h2>IMAP4パスワードの設定</h2>
			<p>POP3, IMAP4は、通常のPlan 9パスワードとは別のものにできます。
			設定方法は、auth/changeuserからの
			same as the plan 9 passwordという質問にnと答えれば
			続けてパスワードを尋ねられますので、そこで設定します。</p>
			<pre><code class="console"># auth/changeuser -p user
Password: (変更しなければ空でいい)
Confirm password: (変更しなければ空でいい)
assign Inferno/POP secret? (y/n) y
make it the same as the plan 9 password? (y/n) n
Secret(0 to 256 characters): IMAP4パスワード
Confirm: IMAP4パスワード
略</code></pre>
			<p>また、いま有効になっているIMAP4パスワードを調べるには、
			認証サーバのbootesから、<strong>/mnt/keys/$user/secret</strong>を読めばいいです。</p>
		</section>
	</section>
</main>
<aside>
	<section>
		<h1>関連情報</h1>
		<ul>
		<li><a href="/plan9/doc/adm/listen.html"><a>listenについて</a></a></li>
		<li><a href="/plan9/doc/adm/securemail.html"><a>メール環境の暗号化</a></a></li>
		</ul>
	</section>
	<section>
		<h1>参考ページ</h1>
		<ul>
		<li><a href="http://c.p9c.info/plan9/root.html">Plan 9 System Management</a></li>
		</ul>
	</section>
</aside>
<footer>
	<p>見れない、表示がおかしい場合は、動作環境を添えて<a href="/plan9/doc/adm/mailto:webmaster@lufia.org"><a>webmaster@lufia.org</a></a>まで連絡ください。</p>
</footer>
</div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"html":"\u003c!doctype html\u003e\n\u003chtml lang=\"ja\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003ctitle\u003ePlan 9: IMAP4サービス\u003c/title\u003e\n\u003cmeta name=\"viewport\" content=\"width=device-width,initial-scale=1\"\u003e\n\u003cmeta name=\"author\" content=\"http://www.hatena.ne.jp/lufiabb/\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cnav\u003e\n\t\u003ch1\u003eメニュー\u003c/h1\u003e\n\t\u003cul\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/index.html\"\u003ePlan 9\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/doc/inst/index.html\"\u003eインストール\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/doc/guide/index.html\"\u003eシステムの使い方\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/doc/devel/index.html\"\u003eプログラミング\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/doc/adm/index.html\"\u003eシステム管理\u003c/a\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ca href=\"/plan9/man/index.html\"\u003e自作ツール集\u003c/a\u003e\u003c/li\u003e\n\t\u003c/ul\u003e\n\u003c/nav\u003e\n\u003cmain\u003e\n\t\u003cp class=\"revision\"\u003e2008年9月21日更新\u003c/p\u003e\n\t\u003csection\u003e\n\t\t\u003ch1\u003eIMAP4サービス\u003c/h1\u003e\n\t\t\u003cp\u003elistenのサービスにtcp143を追加します。\n\t\tもともと用意されているので、自分で書く必要はありません。\u003c/p\u003e\n\t\t\u003cpre\u003e\u003ccode class=\"console\"\u003e% cat /cfg/$sysname/service/tcp143\n#!/bin/rc\nexec /bin/ip/imap4d \u0026gt;[2]/sys/log/imap4d\u003c/code\u003e\u003c/pre\u003e\n\t\t\u003cp\u003eip/imap4dは何もオプションをつけない場合、\u003ca href=\"http://vision.kuee.kyoto-u.ac.jp/~nob/doc/cram-md5/cram-md5.html\"\u003eCRAM-MD5\u003c/a\u003eで認証を行います。\n\t\tiPhoneやMacのMail.appはこれに対応していますが、\n\t\tWindowsメール(Liveメール、Outlook含む)は未対応のため、\n\t\tWindowsで動作テストをするときにはBecky!などを使います。\u003c/p\u003e\n\t\t\u003cp class=\"note\"\u003eまたは、imap4dに-pオプションを与えて\n\t\t通常のパスワード認証にすればWindowsメールでもテストできますが、\n\t\tこれで実運用するには危険なので暗号化が必須です。\n\t\t暗号化の方法は詳細は\u003ca href=\"securemail.html\"\u003eメール環境の暗号化\u003c/a\u003eに書きました。\u003c/p\u003e\n\t\t\u003csection\u003e\n\t\t\t\u003ch2\u003eIMAP4パスワードの設定\u003c/h2\u003e\n\t\t\t\u003cp\u003ePOP3, IMAP4は、通常のPlan 9パスワードとは別のものにできます。\n\t\t\t設定方法は、auth/changeuserからの\n\t\t\tsame as the plan 9 passwordという質問にnと答えれば\n\t\t\t続けてパスワードを尋ねられますので、そこで設定します。\u003c/p\u003e\n\t\t\t\u003cpre\u003e\u003ccode class=\"console\"\u003e# auth/changeuser -p user\nPassword: (変更しなければ空でいい)\nConfirm password: (変更しなければ空でいい)\nassign Inferno/POP secret? (y/n) y\nmake it the same as the plan 9 password? (y/n) n\nSecret(0 to 256 characters): IMAP4パスワード\nConfirm: IMAP4パスワード\n略\u003c/code\u003e\u003c/pre\u003e\n\t\t\t\u003cp\u003eまた、いま有効になっているIMAP4パスワードを調べるには、\n\t\t\t認証サーバのbootesから、\u003cstrong\u003e/mnt/keys/$user/secret\u003c/strong\u003eを読めばいいです。\u003c/p\u003e\n\t\t\u003c/section\u003e\n\t\u003c/section\u003e\n\u003c/main\u003e\n\u003caside\u003e\n\t\u003csection\u003e\n\t\t\u003ch1\u003e関連情報\u003c/h1\u003e\n\t\t\u003cul\u003e\n\t\t\u003cli\u003e\u003ca href=\"listen.html\"\u003elistenについて\u003c/a\u003e\u003c/li\u003e\n\t\t\u003cli\u003e\u003ca href=\"securemail.html\"\u003eメール環境の暗号化\u003c/a\u003e\u003c/li\u003e\n\t\t\u003c/ul\u003e\n\t\u003c/section\u003e\n\t\u003csection\u003e\n\t\t\u003ch1\u003e参考ページ\u003c/h1\u003e\n\t\t\u003cul\u003e\n\t\t\u003cli\u003e\u003ca href=\"http://c.p9c.info/plan9/root.html\"\u003ePlan 9 System Management\u003c/a\u003e\u003c/li\u003e\n\t\t\u003c/ul\u003e\n\t\u003c/section\u003e\n\u003c/aside\u003e\n\u003cfooter\u003e\n\t\u003cp\u003e見れない、表示がおかしい場合は、動作環境を添えて\u003ca href=\"mailto:webmaster@lufia.org\"\u003ewebmaster@lufia.org\u003c/a\u003eまで連絡ください。\u003c/p\u003e\n\u003c/footer\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/[[...slug]]","query":{"slug":["plan9","doc","adm","imap4d"]},"buildId":"uudkrhSA2meQW-38gm1fk","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>