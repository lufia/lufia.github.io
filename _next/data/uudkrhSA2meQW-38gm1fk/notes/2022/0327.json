{"pageProps":{"html":"<!doctype html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<title>orange/note: VAIO Z(VJZ1421)を買った</title>\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n<meta name=\"author\" content=\"http://www.hatena.ne.jp/lufiabb/\">\n</head>\n<body>\n<nav>\n\t<h1>メニュー</h1>\n\t<ul>\n\t<li><a href=\"/notes/index.html\">orange/note</a></li>\n\t<li><a href=\"/notes/pc.html\">PC関連</a></li>\n\t<li><a href=\"/notes/web.html\">web製作</a></li>\n\t<li><a href=\"/notes/sec.html\">セキュリティ</a></li>\n\t<li><a href=\"/notes/hobby.html\">本・ゲーム</a></li>\n\t<li><a href=\"/notes/junk.html\">ジャンク</a></li>\n\t</ul>\n</nav>\n<main>\n\t<p class=\"revision\">2022年3月27日作成</p>\n\t<section>\n\t\t<h1>VAIO Z(VJZ1421)を買った</h1>\n\t\t<p>1月末あたりに、<a href=\"https://store.vaio.com/shop/pages/kachiiro_z142g.aspx\">VAIO Zの勝色モデル</a>を購入した。</p>\n\t\t<p>それまでは<a href=\"https://blog.lufia.org/entry/2021/04/05/170000\">12インチMacBookにLinuxを入れて使っていた</a>けれど、\n\t\t2017年に購入してから5年になるし、少し前に<a href=\"https://blog.lufia.org/entry/2022/01/10/181745\">ストレージでI/O errorが発生</a>があって、頃合いと思った。</p>\n\t\t<section>\n\t\t\t<h2>ハードウェア選び</h2>\n\t\t\t<p>M1 Macが早くて良いという話だけど、次の候補からは外した。\n\t\t\tmacOSはショートカットにCommandキーを使う習慣があるので、\n\t\t\t<strong>Ctrl+H</strong>や<strong>Ctrl+A</strong>などのテキスト編集キーバインドと競合しないし、\n\t\t\tトラックパッドの挙動はmacOSの方が洗練されているのは実感としてある。\n\t\t\tだけども今のところ、macOSよりLinuxのほうが快適だと感じている。</p>\n\t\t\t<p class=\"note\">特にArch Linuxは、パッケージマネージャがOSに付属しているものなので、\n\t\t\tOS標準のコマンドとパッケージマネージャで追加したコマンドが競合しないし、\n\t\t\t開発環境のアップデートをするだけのために2時間待たされることもない。\n\t\t\t私は開発者なので、メッセージAppの強化や絵文字の追加よりも、\n\t\t\tFUSEやコンテナ対応、標準パッケージマネージャの追加、\n\t\t\tlaunchdの強化などが欲しいのだけど、対応される気配はない。</p>\n\t\t\t<p>LinuxのM1 Mac対応は<a href=\"https://asahilinux.org/\">Asahi Linux</a>が頑張っているが、\n\t\t\t新しいハードウェアをサポートし続けていくのは難しいだろうなと思う。\n\t\t\tIntel Macの対応状況は<a href=\"https://github.com/Dunedan/mbp-2016-linux\">State of Linux on the MacBook Pro 2016 &amp; 2017</a>にあるが、状況はあまり良くない。\n\t\t\tIntel Macが下火になった事情はあるとしても、\n\t\t\tM1 Macで状況が劇的に改善されるとはあまり思えない。\n\t\t\tそしてLinuxデスクトップでWi-Fiが使えないのは普通に困る。</p>\n\t\t\t<p>最終的に、VAIO Z、DELL XPS、Microsoft Surfaceで悩んだが、\n\t\t\t軽くて性能が良いVAIO ZにArch Linuxを入れて使うことに決めた。\n\t\t\tVAIO Zは14インチなのに、今まで使っていた12インチMacBookと\n\t\t\tほとんど重さが変わらないのはすごいと思う。</p>\n\t\t</section>\n\t\t<section>\n\t\t\t<h2>Linuxセットアップ</h2>\n\t\t\t<p>1つのディスクだけを扱う場合は安定しているらしいので、\n\t\t\tルートファイルシステムはBtrfsにした。\n\t\t\tセキュアブートや、TPM2デバイスからLUKS2の鍵を読む設定なども入れた。\n\t\t\t手順は他の記事に書いたのでそちらを参照してほしい。</p>\n\t\t\t<dl>\n\t\t\t<div>\n\t\t\t\t<dt><a href=\"https://blog.lufia.org/entry/2021/04/05/170000\">12インチMacBookにArch Linuxをインストールした</a></dt>\n\t\t\t\t<dd>ドライバまわりを除けばほとんど同じ</dd>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<dt><a href=\"https://blog.lufia.org/entry/2022/01/18/203946\">業務端末としてLinuxデスクトップを使うために設定したこと</a></dt>\n\t\t\t\t<dd>GNOMEテーマの設定など</dd>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<dt><a href=\"https://blog.lufia.org/entry/2022/02/13/020028\">TPM2.0デバイスを使って暗号化したボリュームのパスフレーズ入力を省略する</a></dt>\n\t\t\t</div>\n\t\t\t</dl>\n\t\t\t<p>サウンド、ネットワーク、Bluetoothは遜色なく使える。\n\t\t\tサスペンドからの復帰も問題ない。\n\t\t\tデバイスに関連しているパッケージはこのあたり。</p>\n\t\t\t<ul>\n\t\t\t<li>alsa-firmware</li>\n\t\t\t<li>bluez-utils</li>\n\t\t\t<li>iwd</li>\n\t\t\t<li>pipewire-alsa</li>\n\t\t\t<li>pipewire-pulse</li>\n\t\t\t<li>sof-firmware</li>\n\t\t\t</ul>\n\t\t\t<p>指紋認証は使えなかった。そもそも<strong>libfprintd</strong>にデバイスが認識されない。\n\t\t\tVendorID、ProductIDを<strong>libfprintd-tod-git</strong>に追加するとデバイスは見つかるが、\n\t\t\t今度は<em>no left space</em>エラーでうまく動かなかった。</p>\n\t\t\t<p>顔認証(赤外線カメラ)は試していない。\n\t\t\t認証のためにはHowdyというツールを使えばいいらしい。</p>\n\t\t</section>\n\t\t<section>\n\t\t\t<h2>今後やること</h2>\n\t\t\t<p>ハイバネートするためには、まだ設定が足りないらしいので対応する。</p>\n\t\t\t<ul>\n\t\t\t<li><a href=\"https://wiki.archlinux.jp/index.php/%E3%82%B5%E3%82%B9%E3%83%9A%E3%83%B3%E3%83%89%E3%81%A8%E3%83%8F%E3%82%A4%E3%83%90%E3%83%8D%E3%83%BC%E3%83%88\">サスペンドとハイバネート - ArchWiki</a></li>\n\t\t\t</ul>\n\t\t\t<p>それから、SONY時代のVAIOは<strong>/sys/devices/platform/sony-laptop</strong>以下で\n\t\t\t静音設定などが行えたらしいが、このVAIO Zには無かったので、\n\t\t\t代わりとなるものがあるのかどうかは調べておきたい。</p>\n\t\t\t<ul>\n\t\t\t<li><a href=\"https://blog.myon.info/entry/2014/01/15/entry/\">VAIOに入れたLinuxで静音モードやバッテリーケアを有効にする</a></li>\n\t\t\t</ul>\n\t\t</section>\n\t</section>\n</main>\n<aside>\n\t<h1>やっていること</h1>\n\t<ul>\n\t<li><a href=\"/plan9/index.html\">Plan 9</a></li>\n\t<li><a href=\"http://web.me.com/lufia/alefcompiler/alef/\">Alefコンパイラを読む</a></li>\n\t</ul>\n</aside>\n<footer>\n\t<p>見れない、表示がおかしい場合は、動作環境を添えて<a href=\"mailto:webmaster@lufia.org\">webmaster@lufia.org</a>まで連絡ください。</p>\n</footer>\n</body>\n</html>\n"},"__N_SSG":true}