{"pageProps":{"html":"<!doctype html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<title>orange/note: DISQUS導入テスト</title>\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n<meta name=\"author\" content=\"http://www.hatena.ne.jp/lufiabb/\">\n</head>\n<body>\n<nav>\n\t<h1>メニュー</h1>\n\t<ul>\n\t<li><a href=\"/notes/index.html\">orange/note</a></li>\n\t<li><a href=\"/notes/pc.html\">PC関連</a></li>\n\t<li><a href=\"/notes/web.html\">web製作</a></li>\n\t<li><a href=\"/notes/sec.html\">セキュリティ</a></li>\n\t<li><a href=\"/notes/hobby.html\">本・ゲーム</a></li>\n\t<li><a href=\"/notes/junk.html\">ジャンク</a></li>\n\t</ul>\n</nav>\n<main>\n\t<p class=\"revision\">2009年10月2日作成</p>\n\t<section>\n\t\t<h1>DISQUS導入テスト</h1>\n\t\t<p>更新ミスなどがあったとき、すぐ直せる場合はいいのですが、\n\t\tそうでないとき、忘れてしまうことが多いので、\n\t\tコメント機能を使ってみることにしました。</p>\n\t\t<p>とりあえず表示まではできたのでここにメモ。\n\t\t全部JavaScriptで完結する形でまとめています。\n\t\tこのためだけに無駄なdiv要素を用意するなんてばからしいしね。</p>\n\t\t<p>基本的に<a href=\"http://blog.matake.jp/archives/_disqus\">MovableTypeコメントをDISQUSに置き換えてFacebook Connect対応</a>を参考に、\n\t\tjQueryを使って省略してみたり、divまで動的生成してみたりしています。</p>\n\t\t<p>以下ソース。</p>\n\t\t<pre><code class=\"js\">function disqus(shortname)\n{\n\tvar name = encodeURIComponent(shortname)\n\t$('footer').after('&lt;div id=&quot;disqus_thread&quot;&gt;&lt;/div&gt;')\n\tvar disqus = 'http://disqus.com/forums/'+name\n\tvar q = ''\n\t$('a[href$=#disqus_thread]').each(function(i, a){\n\t\tq += '&amp;url'+i+'=' + encodeURIComponent(a.href)\n\t})\n\tvar url = disqus + '/get_num_replies.js?' + q.substring(1)\n\t$('head').append('&lt;script src=&quot;'+url+'&quot;&gt;&lt;/script&gt;')\n\tdisqus_no_style = 1\n\t$('head').append('&lt;script src=&quot;'+disqus+'/embed.js'+'&quot;&gt;&lt;/script&gt;')\n}</code></pre>\n\t\t<p>これを、onloadイベントなどで呼び出せば、footer要素の後に追加されます。</p>\n\t\t<pre><code class=\"js\">$(function(){\n\tdisqus('shortname')\n})</code></pre>\n\t\t<p>当面の問題は、どこに置くかだなあ。\n\t\t現状footerの前に置いていますが、うーん。\n\t\tかといってfooterにはセクショニングコンテンツは置けないし、\n\t\tarticleの末尾でもないしなあ。。。</p>\n\t</section>\n</main>\n<aside>\n\t<h1>やっていること</h1>\n\t<ul>\n\t<li><a href=\"/plan9/index.html\">Plan 9</a></li>\n\t<li><a href=\"http://web.me.com/lufia/alefcompiler/alef/\">Alefコンパイラを読む</a></li>\n\t</ul>\n</aside>\n<footer>\n\t<p>見れない、表示がおかしい場合は、動作環境を添えて<a href=\"mailto:webmaster@lufia.org\">webmaster@lufia.org</a>まで連絡ください。</p>\n</footer>\n</body>\n</html>\n"},"__N_SSG":true}