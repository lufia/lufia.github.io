{"pageProps":{"html":"<!doctype html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<title>orange/note: Vistaの画像タグ保存場所</title>\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n<meta name=\"author\" content=\"http://www.hatena.ne.jp/lufiabb/\">\n</head>\n<body>\n<nav>\n\t<h1>メニュー</h1>\n\t<ul>\n\t<li><a href=\"/notes/index.html\">orange/note</a></li>\n\t<li><a href=\"/notes/pc.html\">PC関連</a></li>\n\t<li><a href=\"/notes/web.html\">web製作</a></li>\n\t<li><a href=\"/notes/sec.html\">セキュリティ</a></li>\n\t<li><a href=\"/notes/hobby.html\">本・ゲーム</a></li>\n\t<li><a href=\"/notes/junk.html\">ジャンク</a></li>\n\t</ul>\n</nav>\n<main>\n\t<p class=\"revision\">2009年5月26日作成</p>\n\t<section>\n\t\t<h1>Vistaの画像タグ保存場所</h1>\n\t\t<p>Vistaに付属するフォトギャラリーは、\n\t\t画像をタグで管理できるようになっていますが、さてさて、このタグ。\n\t\tメールに添付されていた画像にもタグが残ったままになっていたので、\n\t\tどのように保存されているのか調べてみました。</p>\n\t\t<p>まず、JPEG形式はファイルに埋め込んでいます。Adobeの<a href=\"http://www.antenna.co.jp/XML/xmllist/XMP/AboutXMP.htm\">XMP</a>\n\t\tを使っているようです。画像を<a href=\"http://www.vitanuova.com/inferno/man/1/strings.html\">strings(1)</a>\n\t\tにかけると、XMLがずらずらと表示されます。</p>\n\t\t<p>ずいぶん前の記事ですが、<a href=\"http://pc.watch.impress.co.jp/docs/2004/0716/config009.htm\">メタデータとAdobeの思惑</a>\n\t\tによれば、必ずしも埋め込まないといけないわけではないようですね。</p>\n\t\t<blockquote>このデータは、ファイルに埋め込むこともできれば、\n\t\tサイドカーファイルとして別に持たせることもできます。\n\t\tこの場合、純粋にXMLファイルが用意されますから応用はさらに容易になります。</blockquote>\n\t\t<p>信頼できない情報筋によれば、JPEGのほかにTIFFやHD Photoも埋め込むようです。</p>\n\t\t<p>次に、JPEG以外のファイル(GIF, PNGなど)は、\n\t\tXMPの埋め込みに対応していないので埋め込むことができません。\n\t\tどうやらXMP自体はGIFやPNGへの埋め込みにも対応しているようですが、\n\t\t少なくともVistaのフォトギャラリーは対応していません。\n\t\tこの場合、フォトギャラリーからタグの追加はできるのですが、\n\t\tメール添付はもちろん、ファイルをコピーした場合にもタグは引き継がれませんし、\n\t\tエクスプローラからプロパティを開いても、タグの項目がありません。\n\t\tさらに、ファイル名の変更にも対応できていません。\n\t\tフォトギャラリーから名前の変更をした場合は、タグもいっしょに付いてきますが、\n\t\tエクスプローラから変更した場合には、タグが消えてしまいます。</p>\n\t\t<p>うーん、メタデータもデータの一部なので、\n\t\t通常の操作で勝手に消えるというのはどうなのかなあ、と思います。\n\t\tWindows Live Photo Galleryでは改善されているのでしょうか。。</p>\n\t\t<p>最後に、タグの削除のこと。Vistaのエクスプローラから、\n\t\tJPEGファイルのプロパティを開いて詳細を選択すると、\n\t\t「プロパティや個人情報を削除」という機能があります。\n\t\tこれを使えばXMPとして埋め込まれているタグそのものを消すことができますが、\n\t\tXMPの枠組み自体は、依然としてJPEGファイルに埋め込まれたままです。\n\t\tそのままでもファイル容量が増える以外に害はありませんが、\n\t\t気になる場合は<a href=\"http://internet.watch.impress.co.jp/cda/biz_tool/2008/06/17/19953.html\">JPEG Cleaner</a>\n\t\tを使えば、枠組みから他にもいろいろ消してくれます。</p>\n\t</section>\n</main>\n<aside>\n\t<h1>やっていること</h1>\n\t<ul>\n\t<li><a href=\"/plan9/index.html\">Plan 9</a></li>\n\t<li><a href=\"http://web.me.com/lufia/alefcompiler/alef/\">Alefコンパイラを読む</a></li>\n\t</ul>\n</aside>\n<footer>\n\t<p>見れない、表示がおかしい場合は、動作環境を添えて<a href=\"mailto:webmaster@lufia.org\">webmaster@lufia.org</a>まで連絡ください。</p>\n</footer>\n</body>\n</html>\n"},"__N_SSG":true}